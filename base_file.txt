
<U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 
<U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 
<U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 
<U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 
<U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 
<U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 
<U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 
<U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 
;256 nops for variable space

<U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 
<U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 
<U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 
<U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 
<U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 
<U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 
<U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 
<U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 

<U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 
<U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 
<U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 
<U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 
<U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 
<U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 
<U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 
<U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 
;512 nops

<U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 
<U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 
<U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 
<U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 
<U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 
<U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 
<U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 
<U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 

<U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 
<U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 
<U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 
<U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 
<U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 
<U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 
<U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 
<U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 <U32>0 

;1024 nops for console space

;base function code, implememted to prevent having trouble with printing, mostly


jmp start

printint:
	push r3
	push r4
	push r5
	mov r1,r3 ;moves input to r3 so i can work with r1 and r2 for more functions
	mov r2,10
	call div_mod

	store_16 [r12],r3
	add r12,r12,2
	store_16 [r12],r4

	pop r5
	pop r4
	pop r3
	ret
	
div_mod:
	push r3
		divloop:
		sub r1, r2, r1
		cmp r1,zr
		add r3,r3,1
		ja divloop
	add r1, r2, r1
	mov r3,r2
	pop r3
	ret
	
	
printstr:
	store_16 [r12],r1
	add r12,r12,2
	store_16 [r12],r2
	add r12,r12,2
	ret
	
printclr: ;clears the console
	mov r12,init
	printclear_loop:
		store_16 [r12],zr
		add r12,r12,2
		cmp r12,1024 ;--------------------------------- important: console length might need editing
		jge printclear_loop
	ret
	
input_key: ;input function
	nop
	keyboard r1
	cmp r1,-1
	jle input_label
		mov r1,zr
	input_label:
	nop
	ret


pow:
	push r3

	cmp r2,1
	jle pow_label
		pow_loop:
			nop
			sub r2,r2,1
			mul r3, r1, r1
		cmp r2,zr
		jne pow_loop

	pow_label:
	mov r3,r1
	nop

	pull r3
	ret

start:
nop
const init = 512
mov r12,init
mov r1,1
mov r2,2
nop
call printstr ; print two smiley faces on the console, used as a test for console offset and other functions
nop
console init
